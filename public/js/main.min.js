"use strict";
let ua = window.navigator.userAgent, msie = ua.indexOf("MSIE "), isMobile = {
    Android: function () {
        return navigator.userAgent.match(/Android/i)
    }, BlackBerry: function () {
        return navigator.userAgent.match(/BlackBerry/i)
    }, iOS: function () {
        return navigator.userAgent.match(/iPhone|iPad|iPod/i)
    }, Opera: function () {
        return navigator.userAgent.match(/Opera Mini/i)
    }, Windows: function () {
        return navigator.userAgent.match(/IEMobile/i)
    }, any: function () {
        return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()
    }
};

function isIE() {
    return (ua = navigator.userAgent).indexOf("MSIE ") > -1 || ua.indexOf("Trident/") > -1
}

function testWebP(e) {
    let t = new Image;
    t.onload = t.onerror = function () {
        e(2 == t.height)
    }, t.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"
}

function Body() {
    this.target = document.body, this.state = "unlock", this.setState = () => "unlock" === this.state ? this.lock() : this.unlock(), this.lock = () => (this.target.style.overflow = "hidden", this.target.style.height = "100vh", this.state = "lock"), this.unlock = () => (this.target.style.overflow = "auto", this.target.style.height = "", this.state = "unlock")
}

function Tabs() {
    this.activeTab = null, this.activeBlock = null, this.indexActiveBlock = null, this.targets = null, this.blocks = null, this.init = e => {
        this.targets = document.querySelectorAll("[data-tab]"), this.blocks = document.querySelectorAll("[data-tabblock]"), this.activeTab = document.querySelector("[data-tab][data-active]"), this.activeBlock = document.querySelector("[data-tabblock][data-active]"), this.indexActiveBlock = Array.from(this.blocks).findIndex(e => this.activeBlock), this.targets.forEach(t => {
            t.addEventListener("click", e => {
                e.currentTarget !== this.activeTab && (this.activeTab.removeAttribute("data-active"), this.activeTab = e.currentTarget, this.activeTab.setAttribute("data-active", ""), this.activeBlock.removeAttribute("data-active"), this.indexActiveBlock = Array.from(this.blocks).findIndex(e => e.dataset.tabblock === this.activeTab.dataset.tab), this.activeBlock = this.blocks[this.indexActiveBlock], this.activeBlock.setAttribute("data-active", ""))
            }), e && t.addEventListener("click", t => {
                e()
            })
        })
    }
}

isIE() && document.querySelector("body").classList.add("ie"), isMobile.any() && document.querySelector("body").classList.add("_touch"), testWebP(function (e) {
    !0 == e ? document.querySelector("body").classList.add("_webp") : document.querySelector("body").classList.add("_no-webp")
});
const body = new Body, tabs = new Tabs;

function Menu(e, t = !0) {
    this.state = null, this.delay = e, this.closeOverlay = t, this.setState = (t = !0) => (t && body.setState(), this.icon.style.pointerEvents = "none", this.menu.style.pointerEvents = "none", this.icon.classList.toggle("iconMenu--active"), this.menu.classList.toggle("menu--active"), setTimeout(() => {
        this.icon.style.pointerEvents = "", this.menu.style.pointerEvents = ""
    }, e), this.state = "closed" === this.state ? "opened" : "closed"), this.init = e => (this.icon = document.querySelector(".iconMenu"), this.menu = document.querySelector(".menu"), this.icon && this.menu && this.icon.addEventListener("click", () => this.setState(this.delay)), this.closeOverlay && this.menu.addEventListener("click", e => {
        e.target === this.menu && this.setState(this.delay)
    }), this.state = "closed")
}

tabs.init(activeSliderChange);
const menu = new Menu(600);

function sideDash() {
    let e = document.querySelector(".sideDashContainer"), t = document.querySelector(".sideDash");
    new hcSticky(t, {stickTo: e, top: 140, bottom: 20, responsive: {992: {disable: !0}}})
}

menu.init(), sideDash();

try {
    let e = new Swiper(".heroSlider", {
        allowTouchMove: !0,
        observer: !0,
        observeParents: !0,
        slidesPerView: 1,
        loop: !0,
        speed: 800,
        loopPreventsSlide: !1,
        loopAdditionalSlides: 3,
        watchSlidesVisibility: !0,
        preloadImages: !1,
        lazy: {loadOnTransitionStart: !0},
        on: {
            beforeInit(e) {
                e.el.querySelectorAll(".swiper-slide").forEach((e, t) => {
                    e.querySelector(".heroSlider__count").innerHTML = t >= 10 ? t + 1 : "0".concat(t + 1)
                })
            }, touchEnd(i, o) {
                let l = o.clickedIndex - o.activeIndex;
                if (l >= 0) {
                    for (let r = 0; r <= l; r++) t.slideNext(), e.slideNext();
                    return
                }
                for (let n = 0; n > l; n--) t.slidePrev(), e.slidePrev()
            }
        }
    }), t = new Swiper(".heroSliderPreview", {
        allowTouchMove: !0,
        observer: !0,
        observeParents: !0,
        slidesPerView: 3,
        initialSlide: 1,
        loop: !0,
        speed: 800,
        loopPreventsSlide: !1,
        watchSlidesVisibility: !0,
        preloadImages: !1,
        lazy: {loadOnTransitionStart: !0},
        breakpoints: {320: {slidesPerView: 3}, 768: {slidesPerView: 4}, 992: {slidesPerView: 3}},
        on: {
            beforeInit(e) {
                e.el.querySelectorAll(".swiper-slide").forEach((e, t) => {
                    e.querySelector(".heroSliderPreview__count").innerHTML = t >= 10 ? t + 1 : "0".concat(t + 1)
                })
            }, slideChangeTransitionStart() {
                document.querySelector(".heroSliderPreview").style.pointerEvents = "none"
            }, slideChangeTransitionEnd() {
                document.querySelector(".heroSliderPreview").style.pointerEvents = "all"
            }
        }
    });
    t.on("click", i => {
        let o = i.clickedIndex - i.activeIndex;
        if (o >= 0) {
            for (let l = 0; l <= o; l++) t.slideNext(), e.slideNext();
            return
        }
        for (let r = 0; r > o; r--) t.slidePrev(), e.slidePrev()
    })
} catch (i) {
    let o = [], l = document.querySelectorAll(".heroSlider");
    l.forEach(e => {
        let t = e.dataset.id, i = new Swiper(e, {
            allowTouchMove: !0,
            observer: !0,
            observeParents: !0,
            slidesPerView: 1,
            loop: !0,
            speed: 1600,
            loopPreventsSlide: !1,
            loopAdditionalSlides: 3,
            watchSlidesVisibility: !0,
            preloadImages: !1,
            lazy: {loadOnTransitionStart: !0},
            autoplay: {enabled: !0, delay: 4e3},
            navigation: {nextEl: `.swiper-button-next_${t}`, prevEl: `.swiper-button-prev_${t}`}
        });
        o.push(i)
    });
    let r = [], n = document.querySelectorAll(".heroSliderPreview");
    n.forEach(e => {
        let t = new Swiper(e, {
            allowTouchMove: !0,
            observer: !0,
            observeParents: !0,
            slidesPerView: 2,
            initialSlide: 1,
            watchOverflow: !0,
            loop: !0,
            speed: 800,
            loopPreventsSlide: !1,
            loopAdditionalSlides: 2,
            watchSlidesVisibility: !0,
            preloadImages: !1,
            autoplay: {enabled: !0, delay: 4e3},
            lazy: {loadOnTransitionStart: !0}
        });
        r.push(t)
    }), $(".swiper-button-next").on("click", e => {
        r[e.target.id].slideNext()
    })
}

try {
    let e = new Swiper(".heroSlider--mobile", {
        allowTouchMove: !0,
        observer: !0,
        observeParents: !0,
        slidesPerView: 1,
        loop: !0,
        speed: 800,
        loopPreventsSlide: !1,
        loopAdditionalSlides: 3,
        watchSlidesVisibility: !0,
        preloadImages: !1,
        lazy: {loadOnTransitionStart: !0},
        on: {
            beforeInit(e) {
                e.el.querySelectorAll(".swiper-slide--mobile").forEach((e, t) => {
                    e.querySelector(".heroSlider__count").innerHTML = t >= 10 ? t + 1 : "0".concat(t + 1)
                })
            }, touchEnd(i, o) {
                let l = o.clickedIndex - o.activeIndex;
                if (l >= 0) {
                    for (let r = 0; r <= l; r++) t.slideNext(), e.slideNext();
                    return
                }
                for (let n = 0; n > l; n--) t.slidePrev(), e.slidePrev()
            }
        }
    }), t = new Swiper(".heroSliderPreview", {
        allowTouchMove: !0,
        observer: !0,
        observeParents: !0,
        slidesPerView: 3,
        initialSlide: 1,
        loop: !0,
        speed: 800,
        loopPreventsSlide: !1,
        watchSlidesVisibility: !0,
        preloadImages: !1,
        lazy: {loadOnTransitionStart: !0},
        breakpoints: {320: {slidesPerView: 3}, 768: {slidesPerView: 4}, 992: {slidesPerView: 3}},
        on: {
            beforeInit(e) {
                e.el.querySelectorAll(".swiper-slide--mobile").forEach((e, t) => {
                    e.querySelector(".heroSliderPreview__count").innerHTML = t >= 10 ? t + 1 : "0".concat(t + 1)
                })
            }, slideChangeTransitionStart() {
                document.querySelector(".heroSliderPreview").style.pointerEvents = "none"
            }, slideChangeTransitionEnd() {
                document.querySelector(".heroSliderPreview").style.pointerEvents = "all"
            }
        }
    });
    t.on("click", i => {
        let o = i.clickedIndex - i.activeIndex;
        if (o >= 0) {
            for (let l = 0; l <= o; l++) t.slideNext(), e.slideNext();
            return
        }
        for (let r = 0; r > o; r--) t.slidePrev(), e.slidePrev()
    })
} catch (i) {
    let o = [], l = document.querySelectorAll(".heroSlider");
    l.forEach(e => {
        let t = e.dataset.id, i = new Swiper(e, {
            allowTouchMove: !0,
            observer: !0,
            observeParents: !0,
            slidesPerView: 1,
            loop: !0,
            speed: 1600,
            loopPreventsSlide: !1,
            loopAdditionalSlides: 3,
            watchSlidesVisibility: !0,
            preloadImages: !1,
            lazy: {loadOnTransitionStart: !0},
            autoplay: {enabled: !0, delay: 4e3},
            navigation: {nextEl: `.swiper-button-next_${t}`, prevEl: `.swiper-button-prev_${t}`}
        });
        o.push(i)
    });
    let r = [], n = document.querySelectorAll(".heroSliderPreview");
    n.forEach(e => {
        let t = new Swiper(e, {
            allowTouchMove: !0,
            observer: !0,
            observeParents: !0,
            slidesPerView: 2,
            initialSlide: 1,
            watchOverflow: !0,
            loop: !0,
            speed: 800,
            loopPreventsSlide: !1,
            loopAdditionalSlides: 2,
            watchSlidesVisibility: !0,
            preloadImages: !1,
            autoplay: {enabled: !0, delay: 4e3},
            lazy: {loadOnTransitionStart: !0}
        });
        r.push(t)
    }), $(".swiper-button-next").on("click", e => {
        r[e.target.id].slideNext()
    })
}

window.addEventListener('resize', () => {
    location.reload();
});

try {
    let heroSlider = new Swiper('.heroSlider_2', {
        allowTouchMove: false,
        observer: true,
        observeParents: true,
        slidesPerView: 1,
        loop: true,
        speed: 800,
        loopPreventsSlide: false,
        loopAdditionalSlides: 3,
        watchSlidesVisibility: true,
        preloadImages: false,
        lazy: {
            loadOnTransitionStart: true
        },
        on: {
            beforeInit: swiper => {
                swiper.el.querySelectorAll('.swiper-slide_2').forEach((el, index) => {
                    el.querySelector('.heroSlider__count_2').innerHTML = index >= 10 ? index + 1 : "0".concat(index + 1);
                });
            }
        }
    });
    let heroSliderPreview = new Swiper('.heroSliderPreview_2', {
        allowTouchMove: false,
        observer: true,
        observeParents: true,
        slidesPerView: 3,
        initialSlide: 1,
        loop: true,
        speed: 800,
        loopPreventsSlide: false,
        watchSlidesVisibility: true,
        preloadImages: false,
        lazy: {
            loadOnTransitionStart: true
        },
        breakpoints: {
            320: {
                slidesPerView: 3
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 3
            }
        },
        on: {
            //document.querySelector('.heroSliderPreview').style.pointerEvents = 'none';
            beforeInit: swiper => {
                swiper.el.querySelectorAll('.swiper-slide_2').forEach((el, index) => {
                    el.querySelector('.heroSliderPreview__count_2').innerHTML = index >= 10 ? index + 1 : "0".concat(index + 1);
                });
            },
            slideChangeTransitionStart: () => {
                document.querySelector('.heroSliderPreview_2').style.pointerEvents = 'none';
            },
            slideChangeTransitionEnd: () => {
                document.querySelector('.heroSliderPreview_2').style.pointerEvents = 'all';
            }
        }
    });
    heroSliderPreview.on('click', event => {
        let swipeCount = event.clickedIndex - event.activeIndex;

        if (swipeCount >= 0) {
            for (let i = 0; i <= swipeCount; i++) {
                heroSliderPreview.slideNext();
                heroSlider.slideNext();
            }

            return;
        }

        for (let i = 0; i > swipeCount; i--) {
            heroSliderPreview.slidePrev();
            heroSlider.slidePrev();
        }
    });
}catch (e) {
    const swipers = [];
    const allSliders = document.querySelectorAll('.heroSlider_2');
    allSliders.forEach(item => {
        let currentId = (item.dataset.id)

        const newSlider = new Swiper(item, {
            allowTouchMove: false,
            observer: true,
            observeParents: true,
            slidesPerView: 1,
            loop: true,
            speed: 800,
            loopPreventsSlide: false,
            loopAdditionalSlides: 3,
            watchSlidesVisibility: true,
            preloadImages: false,
            lazy: {
                loadOnTransitionStart: true
            },
            autoplay: {
                enabled: true,
                delay: 4000,
            },
            navigation: {
                nextEl: `.swiper-button-next_${currentId}`,
                prevEl: `.swiper-button-prev_${currentId}`,
            },
        });


        swipers.push(newSlider);
    });
    const swipersPreview = []
    const allPreviewSliders = document.querySelectorAll('.heroSliderPreview_2');
    allPreviewSliders.forEach(item => {
        const newPreviewSlider = new Swiper(item, {
            allowTouchMove: false,
            observer: true,
            observeParents: true,
            slidesPerView: 2,
            initialSlide: 1,
            watchOverflow: true,
            loop: true,
            speed: 800,
            loopPreventsSlide: false,
            loopAdditionalSlides: 2,
            watchSlidesVisibility: true,
            preloadImages: false,
            autoplay: {
                enabled: true,
                delay: 4000,
            },
            lazy: {
                loadOnTransitionStart: true
            },
        });
        swipersPreview.push(newPreviewSlider);
    });
    $('.swiper-button-next').on('click', item => {
        let id = item.target.id
        swipersPreview[id].slideNext();
    })
}

const productSliders = [];
let activeProductSlider;

function productSlidersInit(e) {
    let t = document.querySelectorAll(".itemsSlider");
    t.length && (t.forEach(t => {
        if (!document.querySelector(".wrapperHome") && !document.querySelector(".wrapperComparison")) {
            let i = t.closest(".newItems__body").querySelectorAll(".newItems__sliderBtn");
            e.navigation = {nextEl: i[1], prevEl: i[0]}
        }
        let o = new Swiper(t, e);
        document.querySelector(".wrapperHome") && o.navigation.destroy(), productSliders.push(o)
    }), document.querySelector(".wrapperHome") && ((activeProductSlider = productSliders[tabs.indexActiveBlock]).navigation.init(), activeProductSlider.navigation.update()))
}

function activeSliderChange() {
    activeProductSlider !== productSliders[tabs.indexActiveBlock] && (activeProductSlider.navigation.destroy(), (activeProductSlider = productSliders[tabs.indexActiveBlock]).navigation.init(), activeProductSlider.navigation.update())
}

productSlidersInit({
    observer: !0,
    observeParents: !0,
    slidesPerView: 4,
    spaceBetween: 6,
    speed: 600,
    navigation: {nextEl: ".newItems__sliderBtn--next", prevEl: ".newItems__sliderBtn--prev"},
    breakpoints: {320: {slidesPerView: 2}, 480: {slidesPerView: 2}, 768: {slidesPerView: 3}, 992: {slidesPerView: 4}}
});
const compireSliderSettings = {
    observer: !0,
    observeParents: !0,
    speed: 600,
    simulateTouch: !1,
    breakpoints: {
        0: {slidesPerView: 2, freeMode: !0, freeModeMomentum: !1},
        480: {freeMode: !1, slidesPerView: 2},
        1220: {slidesPerView: 3}
    }
};

function compareSlidersInit() {
    let e = document.querySelectorAll(".compareSlider"), t = document.querySelectorAll(".compareParametersSlider"),
        i = document.querySelectorAll(".compareSlider__btn");
    if (e.length || t.length || i.length) for (let o = 0; o < e.length; o++) {
        let l = new Swiper(e[o], {navigation: {nextEl: i[o]}, ...compireSliderSettings}),
            r = new Swiper(t[o], compireSliderSettings);
        l.controller.control = r, r.controller.control = l, l.on("slideChange", () => loopSlider(l))
    }
}

function loopSlider(e) {
    let t = () => {
        e.slideTo(0), e.navigation.nextEl.removeEventListener("click", t)
    };
    e.isEnd && e.navigation.nextEl.addEventListener("click", t)
}

function colorSliderInit() {
    new Swiper(".colorsSlider", {
        observer: !0,
        observeParents: !0,
        slidesPerView: "auto",
        speed: 800,
        freeMode: {enebled: !0, momentumBounce: !1, momentumRatio: .1}
    })
}

compareSlidersInit(), colorSliderInit();
let present = document.querySelector(".presentation-slider"),
    presentSlides = document.querySelector(".presentation-thumbnails");
if (present && presentSlides) {
    let s = new Swiper(".presentation-thumbnails", {
        freeMode: !0,
        watchSlidesProgress: !0,
        breakpoints: {
            320: {slidesPerView: 3, spaceBetween: 10},
            767.98: {slidesPerView: 4, spaceBetween: 20},
            991.98: {slidesPerView: 5, spaceBetween: 20},
            1199.98: {slidesPerView: 6, spaceBetween: 20}
        }
    });
    new Swiper(".presentation-slider", {
        navigation: {
            nextEl: ".presentation-slider__btn_next",
            prevEl: ".presentation-slider__btn_prev"
        }, thumbs: {swiper: s}
    })
}
let ppSlider = document.querySelector(".popupSlider");
ppSlider && new Swiper(".popupSlider", {
    observer: !0,
    observeParents: !0,
    slidesPerView: 4,
    speed: 600,
    navigation: {nextEl: ".newItems__sliderBtn--next", prevEl: ".newItems__sliderBtn--prev"},
    breakpoints: {320: {slidesPerView: 1}, 480: {slidesPerView: 1.2}, 767.98: {slidesPerView: 2.5}}
});
const video = document.querySelector(".process__video");
if (video) {
    let a = document.querySelector(".process__videoPlay"), c = document.querySelector(".process__videoWrp");
    c.addEventListener("click", e => {
        e.preventDefault(), a.style.transform = "translate(-50%,-50%) scale(0)", video.play(), video.controls = !0
    })
}
let accordion;
accordion = document.body.clientWidth < 768 ? new Accordion(".accordion-container") : null, window.addEventListener("resize", e => {
    document.body.clientWidth < 768 && null === accordion ? accordion = new Accordion(".accordion-container") : document.body.clientWidth > 768 && null !== accordion && (accordion.destroy(), accordion = null)
});
const comments = document.querySelectorAll(".history__commentsContainer");
comments.length && (new Accordion(".accordHistory"), comments.forEach(e => new Accordion(e)));
const spollers = Array.from(document.querySelectorAll(".spollers"));

function placeholder() {
    let e = document.querySelectorAll("[data-value]");
    if (e.length) for (let t = 0; t < e.length; t++) {
        let i = e[t];
        i.value = i.dataset.value, i.addEventListener("click", e => {
            i.value === i.dataset.value && (i.value = "")
        }), i.addEventListener("blur", e => {
            "" === i.value && (i.value = i.dataset.value)
        })
    }
}

function selectInit() {
    document.querySelectorAll("select").forEach(e => {
        new Choices(e, {searchEnabled: !1})
    }), document.querySelectorAll(".choices").forEach(e => {
        let t;
        e.addEventListener("click", i => {
            document.body.clientWidth < 992 || t || (t = e.offsetWidth + "px", e.style.width = t)
        })
    })
}

function setProductsGrid() {
    let e = document.querySelector(".productsTmp__body"), t = document.querySelectorAll(".productsTmp__layoutBtn"),
        i = document.querySelector(".productsTmp__layoutBtn._active");
    if (t.length) for (let o of t) o.addEventListener("click", () => {
        e.classList.toggle("productsTmp__body--line"), o.classList.add("_active"), i.classList.remove("_active"), i = o
    })
}

function setSortDropdownState(e) {
    document.querySelectorAll(".productsTmp__sortItem--drop").forEach(t => {
        let i = t.querySelector("span");
        i.addEventListener("click", e => {
            t.classList.toggle("_active")
        }), t.addEventListener("blur", e => {
            t.classList.remove("_active")
        }), t.querySelectorAll(".productsTmp__sortItem").forEach(i => {
            i.addEventListener("click", i => {
                t.classList.remove("_active"), e()
            })
        })
    }), document.querySelectorAll(".productsTmp__sortBox > .productsTmp__sortItem").forEach(t => {
        t.classList.contains("productsTmp__sortItem--drop") || t.addEventListener("click", e)
    })
}

if (new Accordion(spollers, {}), window.addEventListener("scroll", function () {
    window.pageYOffset > 800 && document.body.clientWidth >= 992 && "closed" === menu.state ? menu.setState(!1) : window.pageYOffset < 800 && document.body.clientWidth >= 992 && "opened" === menu.state && menu.setState(!1)
}), document.querySelector(".menu__close").addEventListener("click", menu.setState), placeholder(), selectInit(), setProductsGrid(), setSortDropdownState(() => {//! Функция обработчик нажатия на элемент сортировки
    console.log("Сортировка")
}), document.querySelector(".history")) {
    function d() {
        let e = document.querySelector(".history__textarea");
        new FgEmojiPicker({
            trigger: ".history__smileBox",
            dir: "js/",
            insertInto: document.querySelector("textarea"),
            position: ["bottom", "left"],
            emit(t, i) {
                e.value === e.dataset.value && (e.value = "")
            }
        })
    }

    d()
}

function countersInit() {
    let e = document.querySelectorAll(".productCalc__counter");
    for (let t of e) {
        let i = t.querySelector(".productCalc__counterBtn--minus"),
            o = t.querySelector(".productCalc__counterBtn--plus"), l = t.querySelector(".productCalc__inpCount");
        o.addEventListener("click", () => l.value = +l.value + 1), i.addEventListener("click", () => l.value > 1 && (l.value = +l.value - 1)), l.addEventListener("blur", () => !!(l.value < 1 || isNaN(Number(l.value))) && (l.value = 1))
    }
}

countersInit();
const tareas = document.querySelectorAll(".textarea");

function orderFormInit() {
    let e = document.querySelector("#usertype");
    if (!e) return;
    let t = e.querySelector("#entity"), i = e.querySelectorAll("input");
    i.forEach(e => {
        e.addEventListener("change", e => {
            if (t.checked) {
                document.querySelector(".entityReq").style.display = "block";
                return
            }
            document.querySelector(".entityReq").style.display = "none"
        })
    })
}

tareas.forEach(e => {
    e.addEventListener("focus", () => {
        e.parentElement.classList.add("_focus")
    }), e.addEventListener("blur", () => {
        e.parentElement.classList.remove("_focus")
    })
}), orderFormInit();
const glCount = document.querySelector(".prodCard__thumbCount");

function tooltipsInit() {
    let e = document.querySelectorAll(".tippy");
    e.forEach(e => {
        tippy(e, {content: e.dataset.tippy})
    })
}

glCount && (glCount.innerHTML = "+".concat(fsLightbox.props.sources.length - 3)), tooltipsInit();
let floatSidebar;

function sideBar() {
    let e = document.querySelector(".prodCard__body"), t = document.querySelector(".prodCard__sideBody");
    new hcSticky(t, {stickTo: e, top: 140, bottom: 20, responsive: {992: {disable: !0}}})
}

function DynamicAdapt(e) {
    this.type = e
}

sideBar(), DynamicAdapt.prototype.init = function () {
    let e = this;
    this.оbjects = [], this.daClassname = "_dynamic_adapt_", this.nodes = document.querySelectorAll("[data-da]");
    for (let t = 0; t < this.nodes.length; t++) {
        let i = this.nodes[t], o = i.dataset.da.trim(), l = o.split(","), r = {};
        r.element = i, r.parent = i.parentNode, r.destination = document.querySelector(l[0].trim()), r.breakpoint = l[1] ? l[1].trim() : "767", r.place = l[2] ? l[2].trim() : "last", r.index = this.indexInParent(r.parent, r.element), this.оbjects.push(r)
    }
    this.arraySort(this.оbjects), this.mediaQueries = Array.prototype.map.call(this.оbjects, function (e) {
        return "(" + this.type + "-width: " + e.breakpoint + "px)," + e.breakpoint
    }, this), this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (e, t, i) {
        return Array.prototype.indexOf.call(i, e) === t
    });
    for (let n = 0; n < this.mediaQueries.length; n++) {
        let s = this.mediaQueries[n], a = String.prototype.split.call(s, ","), c = window.matchMedia(a[0]), d = a[1],
            u = Array.prototype.filter.call(this.оbjects, function (e) {
                return e.breakpoint === d
            });
        c.addListener(function () {
            e.mediaHandler(c, u)
        }), this.mediaHandler(c, u)
    }
}, DynamicAdapt.prototype.mediaHandler = function (e, t) {
    if (e.matches) for (let i = 0; i < t.length; i++) {
        let o = t[i];
        o.index = this.indexInParent(o.parent, o.element), this.moveTo(o.place, o.element, o.destination)
    } else for (let l = 0; l < t.length; l++) {
        let r = t[l];
        r.element.classList.contains(this.daClassname) && this.moveBack(r.parent, r.element, r.index)
    }
}, DynamicAdapt.prototype.moveTo = function (e, t, i) {
    if (t.classList.add(this.daClassname), "last" === e || e >= i.children.length) {
        i.insertAdjacentElement("beforeend", t);
        return
    }
    if ("second" === e || "first" === e) {
        i.insertAdjacentElement("afterbegin", t);
        return
    }
    console.log(i), i.children[e].insertAdjacentElement("beforebegin", t)
}, DynamicAdapt.prototype.moveBack = function (e, t, i) {
    t.classList.remove(this.daClassname), void 0 !== e.children[i] ? e.children[i].insertAdjacentElement("beforebegin", t) : e.insertAdjacentElement("beforeend", t)
}, DynamicAdapt.prototype.indexInParent = function (e, t) {
    let i = Array.prototype.slice.call(e.children);
    return Array.prototype.indexOf.call(i, t)
}, DynamicAdapt.prototype.arraySort = function (e) {
    if ("min" === this.type) Array.prototype.sort.call(e, function (e, t) {
        return e.breakpoint === t.breakpoint ? e.place === t.place ? 0 : "first" === e.place || "last" === t.place ? -1 : "last" === e.place || "first" === t.place ? 1 : e.place - t.place : e.breakpoint - t.breakpoint
    }); else {
        Array.prototype.sort.call(e, function (e, t) {
            return e.breakpoint === t.breakpoint ? e.place === t.place ? 0 : "first" === e.place || "last" === t.place ? 1 : "last" === e.place || "first" === t.place ? -1 : t.place - e.place : t.breakpoint - e.breakpoint
        });
        return
    }
};
const da = new DynamicAdapt("max");
da.init();
let link = document.querySelectorAll("._goto-block");
if (link) {
    let u = [];
    for (let p = 0; p < link.length; p++) {
        let h = link[p], y = h.getAttribute("href").replace("#", "");
        "" == y || ~u.indexOf(y) || u.push(y), h.addEventListener("click", function (e) {
            document.querySelector(".menu__body._active") && (menu_close(), body_lock_remove(500));
            let t = h.getAttribute("href").replace("#", "");
            _goto(document.querySelector("." + t), 300), e.preventDefault()
        })
    }
    window.addEventListener("scroll", function (e) {
        let t = document.querySelectorAll("._goto-block._active");
        if (t) for (let i = 0; i < t.length; i++) t[i].classList.remove("_active");
        for (let o = 0; o < u.length; o++) {
            let l = u[o], r = document.querySelector("." + l);
            if (r) {
                let n = offset(r).top, s = r.offsetHeight;
                if (pageYOffset > n - window.innerHeight / 3 && pageYOffset < n + s - window.innerHeight / 3) {
                    let a = document.querySelectorAll('._goto-block[href="#' + l + '"]');
                    for (let c = 0; c < a.length; c++) a[c].classList.add("_active")
                }
            }
        }
    })
}
let goto_links = document.querySelectorAll("._goto");
if (goto_links) for (let index = 0; index < goto_links.length; index++) {
    let f = goto_links[index];
    f.addEventListener("click", function (e) {
        let t = f.getAttribute("href").replace("#", "");
        _goto(document.querySelector("." + t), 300), e.preventDefault()
    })
}

function _goto(e, t, i = 0) {
    new SmoothScroll().animateScroll(e, "", {
        speedAsDuration: !0,
        speed: t,
        header: ".header",
        offset: i,
        easing: "easeInOutCubic"
    })
}

function offset(e) {
    var t = e.getBoundingClientRect(), i = window.pageXOffset || document.documentElement.scrollLeft,
        o = window.pageYOffset || document.documentElement.scrollTop;
    return {top: t.top + o, left: t.left + i}
}

function scroll_scroll() {
    document.body;
    let e = pageYOffset, t = document.querySelector("header.header");
    null !== t && (e > 10 ? t.classList.add("_scroll") : t.classList.remove("_scroll"))
}

window.addEventListener("scroll", scroll_scroll), document.querySelector(".wrap") && document.querySelector(".wrap").classList.add("_loaded");
let unlock = !0;

function body_lock(e) {
    document.querySelector("body").classList.contains("body-toggle") ? body_lock_remove(e) : body_lock_add(e)
}

function body_lock_remove(e) {
    let t = document.querySelector("body");
    if (unlock) {
        let i = document.querySelectorAll("._lp");
        setTimeout(() => {
            for (let e = 0; e < i.length; e++) {
                let o = i[e];
                o.style.paddingRight = "0px"
            }
            t.style.paddingRight = "0px", t.classList.remove("body-toggle")
        }, e), unlock = !1, setTimeout(function () {
            unlock = !0
        }, e)
    }
}

function body_lock_add(e) {
    let t = document.querySelector("body");
    if (unlock) {
        let i = document.querySelectorAll("._lp");
        for (let o = 0; o < i.length; o++) {
            let l = i[o];
            l.style.paddingRight = window.innerWidth - document.querySelector(".wrap").offsetWidth + "px"
        }
        t.style.paddingRight = window.innerWidth - document.querySelector(".wrap").offsetWidth + "px", t.classList.add("body-toggle"), unlock = !1, setTimeout(function () {
            unlock = !0
        }, e)
    }
}

let popup_link = document.querySelectorAll(".popup-link"), popups = document.querySelectorAll(".popup");
for (let index = 0; index < popup_link.length; index++) {
    let v = popup_link[index];
    v.addEventListener("click", function (e) {
        if (unlock) {
            let t;
            popup_open(v.getAttribute("href").replace("#", ""), v.getAttribute("data-video"))
        }
        e.preventDefault()
    })
}
for (let index = 0; index < popups.length; index++) {
    let S = popups[index];
    S.addEventListener("click", function (e) {
        e.target.closest(".popup__body") || popup_close(e.target.closest(".popup"))
    })
}

function popup_open(e, t = "") {
    document.querySelectorAll(".popup._active").length > 0 && popup_close("", !1);
    let i = document.querySelector(".popup_" + e);
    i && unlock && ("" != t && null != t && (document.querySelector(".popup_video").querySelector(".popup__video").innerHTML = '<iframe src="https://www.youtube.com/embed/' + t + '?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'), document.querySelector(".menu__body._active") || body_lock_add(500), i.classList.add("_active"), history.pushState("", "", "#" + e))
}

function popup_close(e, t = !0) {
    if (unlock) {
        if (e) {
            let i = e.querySelector(".popup__video");
            i && (i.innerHTML = ""), e.classList.remove("_active")
        } else for (let o = 0; o < popups.length; o++) {
            let l = popups[o], r = l.querySelector(".popup__video");
            r && (r.innerHTML = ""), l.classList.remove("_active")
        }
        !document.querySelector(".menu__body._active") && t && body_lock_remove(500), history.pushState("", "", window.location.href.split("#")[0])
    }
}

let popup_close_icon = document.querySelectorAll(".popup__close,._popup-close");
if (popup_close_icon) for (let index = 0; index < popup_close_icon.length; index++) {
    let m = popup_close_icon[index];
    m.addEventListener("click", function () {
        popup_close(m.closest(".popup"))
    })
}

function _wrap(e, t) {
    e.parentNode.insertBefore(t, e), t.appendChild(e)
}

function _removeClasses(e, t) {
    for (var i = 0; i < e.length; i++) e[i].classList.remove(t)
}

function _is_hidden(e) {
    return null === e.offsetParent
}

function animate({timing: e, draw: t, duration: i}) {
    let o = performance.now();
    requestAnimationFrame(function l(r) {
        let n = (r - o) / i;
        n > 1 && (n = 1);
        t(e(n)), n < 1 && requestAnimationFrame(l)
    })
}

function makeEaseOut(e) {
    return function (t) {
        return 1 - e(1 - t)
    }
}

function makeEaseInOut(e) {
    return function (t) {
        return t < .5 ? e(2 * t) / 2 : (2 - e(2 * (1 - t))) / 2
    }
}

function quad(e) {
    return Math.pow(e, 2)
}

function circ(e) {
    return 1 - Math.sin(Math.acos(e))
}

document.addEventListener("keydown", function (e) {
    "Escape" === e.code && popup_close()
}), Element.prototype.closest || (Element.prototype.closest = function (e) {
    for (var t = this; t;) {
        if (t.matches(e)) return t;
        t = t.parentElement
    }
    return null
}), Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector);
